<div class="content">
    <div class="header">
        <img src="../../../assets/nix-empresas-logo-black.svg" />
    </div>
    <div class="body">
        <div class="card">
            <div class="card-content">
                <div class="card-head">
                    <a href="/empresas" class="regular-regular"><img src="../../../assets/icons/arrowback.svg"/> Voltar</a>
                    <h3>Visualização do plano</h3>
                    <button class="main-button" type="submit" id="new-plan-id" (click)="newPlan()">Novo plano</button>
                </div>
                <div class="card-sub-head">
                    <p class="large-bold"># {{channelCode}} / {{selectedPlan?.plan_name}}</p>
                    <button class="main-button" type="submit" id="new-plan-id" (click)="updatePlan()">Editar plano</button>
                    <button class="main-button-inverse" type="submit" id="update-plan-id" (click)="listPlans()">Escolher outro plano</button>
                </div>
                <div class="container">
                    <div class="loading-shade" *ngIf="loading">
                        <mat-spinner></mat-spinner>
                    </div>
                    <div class="table-container right-table">
                        <table mat-table [dataSource]="dataSource">

                        <ng-container matColumnDef="type">
                            <th mat-header-cell *matHeaderCellDef></th>
                            <td mat-cell *matCellDef="let element">
                            {{ element.type }}
                            </td>
                        </ng-container>
                
                        <ng-container matColumnDef="tariff_value">
                            <th mat-header-cell *matHeaderCellDef>Taxa plano</th>
                            <td mat-cell *matCellDef="let element">
                            R$ {{ element.tariff_value}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="fee_amount">
                            <th mat-header-cell *matHeaderCellDef>Taxa percentual</th>
                            <td mat-cell *matCellDef="let element">
                            {{ element.fee_amount }}%
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="free_quantities">
                            <th mat-header-cell *matHeaderCellDef>Quantidade gratuita</th>
                            <td mat-cell *matCellDef="let element">
                            {{ element.free_quantities }}
                            </td>
                        </ng-container>
                
                        <ng-container matColumnDef="tax">
                            <th mat-header-cell *matHeaderCellDef>Taxa</th>
                            <td mat-cell *matCellDef="let element">
                            R$ {{ element.tax }}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="percent">
                            <th mat-header-cell *matHeaderCellDef>Percentual</th>
                            <td mat-cell *matCellDef="let element">
                            {{ element.percent }}%
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="header-start-group">
                            <th mat-header-cell *matHeaderCellDef [attr.colspan]="4"> </th>
                        </ng-container>
                        <ng-container matColumnDef="header-end-group">
                            <th class="nix-empresas-group extra-small-bold" mat-header-cell *matHeaderCellDef [attr.colspan]="4">
                                Nix empresas
                            </th>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="['header-start-group','header-end-group']"></tr>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
  